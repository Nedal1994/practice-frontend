{"ast":null,"code":"var _jsxFileName = \"/home/nedal/practice-frontend/src/Main.js\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { withAuth0 } from '@auth0/auth0-react';\nimport axios from 'axios';\nimport AddFlowers from './flower-components/AddFlowers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      axios.get(`http://localhost:3600/flowers?email=${email}`).then(result => {\n        this.setState({\n          flowersArr: result.data\n        });\n        console.log(this.state.flowersArr);\n      }).catch(error => {\n        console.log('error');\n      });\n    };\n\n    this.addFlower = event => {\n      console.log('ok');\n      event.preventDefault();\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      const obj = {\n        name: event.target.name.value,\n        instructions: event.target.instructions.value,\n        email: email\n      };\n      axios.post('http://localhost:3600/addFlower', obj).then(result => {\n        this.setState({\n          flowersArr: result.data\n        });\n      }).catch(error => {\n        console.log('error');\n      });\n    };\n\n    this.deleteFlower = id => {\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      axios.delete(`http://localhost:3600/deleteFlower/${id}?email=${email}`).then(result => {\n        this.setState({\n          flowersArr: result.data\n        });\n      }).catch(error => {\n        console.log('Error');\n      });\n    };\n\n    this.updateFlower = event => {\n      event.preventDefault();\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      const obj = {\n        name: event.target.name.value,\n        instructions: event.target.instructions.value,\n        email: email\n      };\n      axios.post(`http://localhost:3600/updateFlower/${this.state.flowerId}`, obj).then(result => {\n        this.setState({\n          flowersArr: result.data\n        });\n      }).catch(error => {\n        console.log('error');\n      });\n    };\n\n    this.state = {\n      flowersArr: [],\n      show: false,\n      showFlag: false,\n      name: '',\n      instructions: '',\n      flowerId: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(AddFlowers, {\n        flowersArr: this.state.flowersArr,\n        addFlower: this.addFlower\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withAuth0(Main);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/nedal/practice-frontend/src/Main.js"],"names":["React","withAuth0","axios","AddFlowers","Main","Component","constructor","props","componentDidMount","user","auth0","email","get","then","result","setState","flowersArr","data","console","log","state","catch","error","addFlower","event","preventDefault","obj","name","target","value","instructions","post","deleteFlower","id","delete","updateFlower","flowerId","show","showFlag","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { withAuth0 } from '@auth0/auth0-react'\nimport axios from 'axios'\nimport AddFlowers from './flower-components/AddFlowers'\n\nclass Main extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n          flowersArr: [],\n          show: false,\n          showFlag: false,\n          name: '',\n          instructions: '',\n          flowerId: ''\n        }\n      }\n\n    componentDidMount = () => {\n        const { user } = this.props.auth0\n        const email = user.email\n        axios\n          .get(`http://localhost:3600/flowers?email=${email}`)\n          .then(result => {\n            this.setState({\n              flowersArr: result.data\n            })\n            console.log(this.state.flowersArr);\n          })\n          .catch(error => {\n            console.log('error');\n          })\n      }\n\n      addFlower = (event) =>{\n          console.log('ok')\n          event.preventDefault()\n          const { user } = this.props.auth0\n          const email = user.email\n          const obj={\n              name:event.target.name.value,\n              instructions:event.target.instructions.value,\n              email:email\n          }\n          \n          axios\n          .post('http://localhost:3600/addFlower' ,obj)\n          .then(result =>{\n              this.setState({\n                  flowersArr:result.data\n              })\n          })\n          .catch(error => {\n            console.log('error');\n          })\n      }\n\n      deleteFlower = (id) => {\n        const { user } = this.props.auth0\n        const email = user.email\n        axios\n          .delete(`http://localhost:3600/deleteFlower/${id}?email=${email}`)\n          .then(result => {\n            this.setState({\n              flowersArr: result.data\n            })\n          })\n          .catch(error => {\n            console.log('Error');\n          })\n      }\n      updateFlower = (event) =>{\n        event.preventDefault()\n        const { user } = this.props.auth0\n        const email = user.email\n        const obj={\n            name:event.target.name.value,\n            instructions:event.target.instructions.value,\n            email:email\n        }\n        axios\n        .post(`http://localhost:3600/updateFlower/${this.state.flowerId}` ,obj)\n        .then(result =>{\n            this.setState({\n                flowersArr:result.data\n            })\n        })\n        .catch(error => {\n          console.log('error');\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <AddFlowers\n                flowersArr={this.state.flowersArr}\n                addFlower = {this.addFlower}\n                />\n            </div>\n        );\n    }\n}\n\nexport default withAuth0(Main);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/nedal/practice-frontend/src/FavFlower.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport FlowerCard from './FlowerCard';\nimport FlowerUpdateForm from './FlowerUpdateForm';\nimport { withAuth0 } from '@auth0/auth0-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass FavFlower extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      const {\n        user,\n        isAuthenticated\n      } = this.props.auth0;\n      const email = user.email;\n\n      if (isAuthenticated) {\n        console.log('hello');\n        axios.get(`http://localhost:3600/getFlower?email=${email}`).then(result => {\n          this.setState({\n            flowersArr: result.data\n          });\n          console.log(this.state.flowersArr);\n        }).catch(error => {\n          console.log('error');\n        });\n      }\n    };\n\n    this.componentDidUpdate = () => {\n      const {\n        user,\n        isAuthenticated\n      } = this.props.auth0;\n      const email = user.email;\n\n      if (isAuthenticated) {\n        console.log('hello');\n        axios.get(`http://localhost:3600/getFlower?email=${email}`).then(result => {\n          this.setState({\n            flowersArr: result.data\n          });\n          console.log(this.state.flowersArr);\n        }).catch(error => {\n          console.log('error');\n        });\n      }\n    };\n\n    this.deleteFlower = id => {\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      axios.delete(`http://localhost:3600/deleteFlower/${id}?email=${email}`).then(result => {\n        this.setState({\n          flowersArr: result.data\n        });\n      }).catch(error => {\n        console.log('Error');\n      });\n    };\n\n    this.updateFlower = event => {\n      event.preventDefault();\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      const obj = {\n        name: event.target.name.value,\n        instructions: event.target.instructions.value,\n        email: email\n      };\n      axios.post(`http://localhost:3600/updateFlower/${this.state.flowerId}`, obj).then(result => {\n        this.setState({\n          flowersArr: result.data\n        });\n      }).catch(error => {\n        console.log('error');\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        show: false,\n        showFlag: false\n      });\n    };\n\n    this.handleShow = () => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.showUpdateForm = item => {\n      this.setState({\n        showFlag: true,\n        name: item.name,\n        instructions: item.instructions,\n        flowerId: item._id\n      });\n    };\n\n    this.state = {\n      flowersArr: [],\n      show: false,\n      showFlag: false,\n      name: '',\n      instructions: '',\n      flowerId: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), this.state.flowersArr.map(item => {\n        return /*#__PURE__*/_jsxDEV(FlowerCard, {\n          item: item,\n          showUpdateForm: this.showUpdateForm,\n          deleteFlower: this.deleteFlower\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 20\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(FlowerUpdateForm, {\n        show: this.state.showFlag,\n        handleClose: this.handleClose,\n        name: this.state.name,\n        instructions: this.state.instructions,\n        updateFlower: this.updateFlower\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withAuth0(FavFlower);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/nedal/practice-frontend/src/FavFlower.js"],"names":["React","axios","FlowerCard","FlowerUpdateForm","withAuth0","FavFlower","Component","constructor","props","componentDidMount","user","isAuthenticated","auth0","email","console","log","get","then","result","setState","flowersArr","data","state","catch","error","componentDidUpdate","deleteFlower","id","delete","updateFlower","event","preventDefault","obj","name","target","value","instructions","post","flowerId","handleClose","show","showFlag","handleShow","showUpdateForm","item","_id","render","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios'\nimport FlowerCard from './FlowerCard'\nimport FlowerUpdateForm from './FlowerUpdateForm';\nimport { withAuth0 } from '@auth0/auth0-react'\n\nclass FavFlower extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            flowersArr: [],\n            show: false,\n            showFlag: false,\n            name: '',\n            instructions: '',\n            flowerId: ''\n        }\n    }\n    componentDidMount = () => {\n        const { user,isAuthenticated } = this.props.auth0\n        const email = user.email\n        if(isAuthenticated)\n        {\n       console.log('hello')\n        axios\n            .get(`http://localhost:3600/getFlower?email=${email}`)\n            .then(result => {\n                this.setState({\n                    flowersArr: result.data\n                })\n                console.log(this.state.flowersArr);\n            })\n            .catch(error => {\n                console.log('error');\n            })\n    }}\n    componentDidUpdate = () => {\n        const { user,isAuthenticated } = this.props.auth0\n        const email = user.email\n        if(isAuthenticated)\n        {\n       console.log('hello')\n        axios\n            .get(`http://localhost:3600/getFlower?email=${email}`)\n            .then(result => {\n                this.setState({\n                    flowersArr: result.data\n                })\n                console.log(this.state.flowersArr);\n            })\n            .catch(error => {\n                console.log('error');\n            })\n    }}\n\n    deleteFlower = (id) => {\n        const { user } = this.props.auth0\n        const email = user.email\n        axios\n            .delete(`http://localhost:3600/deleteFlower/${id}?email=${email}`)\n            .then(result => {\n                this.setState({\n                    flowersArr: result.data\n                })\n            })\n            .catch(error => {\n                console.log('Error');\n            })\n    }\n    updateFlower = (event) => {\n        event.preventDefault()\n        const { user } = this.props.auth0\n        const email = user.email\n        const obj = {\n            name: event.target.name.value,\n            instructions: event.target.instructions.value,\n            email: email\n        }\n        axios\n            .post(`http://localhost:3600/updateFlower/${this.state.flowerId}`, obj)\n            .then(result => {\n                this.setState({\n                    flowersArr: result.data\n                })\n            })\n            .catch(error => {\n                console.log('error');\n            })\n    }\n\n    handleClose = () => {\n        this.setState({\n            show: false,\n            showFlag: false\n        })\n    }\n    handleShow = () => {\n        this.setState({\n            show: true,\n        })\n    }\n    showUpdateForm = (item) => {\n        this.setState({\n            showFlag: true,\n            name: item.name,\n            instructions: item.instructions,\n            flowerId: item._id\n        })\n    }\n    render() {\n        return (\n            <div>\n                <h1>Hello</h1>\n               {this.state.flowersArr.map((item)=>{\n               return(\n                   <FlowerCard\n                   item={item}\n                   showUpdateForm={this.showUpdateForm}\n                   deleteFlower={this.deleteFlower}\n                   />\n               )\n               })}\n               \n                <FlowerUpdateForm\n                    show={this.state.showFlag}\n                    handleClose={this.handleClose}\n                    name={this.state.name}\n                    instructions={this.state.instructions}\n                    updateFlower={this.updateFlower}\n                />\n            </div>\n        );\n    }\n}\n\nexport default withAuth0(FavFlower);"]},"metadata":{},"sourceType":"module"}
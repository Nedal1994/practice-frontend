(this.webpackJsonpsolution=this.webpackJsonpsolution||[]).push([[0],{63:function(t,e,a){},78:function(t,e,a){},98:function(t,e,a){},99:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(26),c=a.n(i),s=a(11),r=a(12),l=a(15),j=a(14),d=(a(36),a(30)),h=a(33),u=(a(63),a(13)),b=a(1),p=function(){var t=Object(u.b)(),e=t.isAuthenticated,a=t.logout;return e&&Object(b.jsx)("button",{onClick:function(){return a({returnTo:window.location.origin})},children:"Log Out"})};var O=function(){var t=Object(u.b)(),e=t.isAuthenticated,a=t.loginWithRedirect;return!e&&Object(b.jsx)("button",{onClick:a,children:"Log in"})},x=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var t=this.props.auth0.isAuthenticated;return Object(b.jsxs)(d.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(b.jsx)(d.a.Brand,{children:"My Favorite Books"}),Object(b.jsx)(h.b,{to:"/",children:"Home"}),Object(b.jsx)(h.b,{to:"/profile",children:"Profile"}),t?Object(b.jsx)(p,{}):Object(b.jsx)(O,{})]})}}]),a}(o.a.Component),m=Object(u.c)(x),v=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(b.jsx)(d.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(b.jsx)(d.a.Brand,{children:"\xa9 Best Books"})})}}]),a}(o.a.Component),f=a(7),k=function(){var t=Object(u.b)(),e=t.user,a=t.isAuthenticated;return t.isLoading?Object(b.jsx)("div",{children:"Loading ..."}):a&&Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:e.picture,alt:e.name}),Object(b.jsx)("h2",{children:e.name}),Object(b.jsx)("p",{children:e.email})]})},g=(a(78),a(35)),y=a.n(g),B=a(16),w=a(27),C=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var t=this;return Object(b.jsx)("div",{children:Object(b.jsxs)(B.a,{style:{width:"18rem"},children:[Object(b.jsx)(B.a.Img,{variant:"top"}),Object(b.jsxs)(B.a.Body,{children:[Object(b.jsx)(B.a.Text,{children:this.props.item.url}),Object(b.jsx)(B.a.Title,{children:this.props.item.title}),Object(b.jsx)(B.a.Text,{children:this.props.item.description}),Object(b.jsx)(B.a.Text,{children:this.props.item.status}),Object(b.jsx)(B.a.Text,{children:this.props.item.email}),Object(b.jsx)(w.a,{variant:"primary",onClick:function(){return t.props.deleteBook(t.props.item._id)},children:"Delete book"}),Object(b.jsx)(w.a,{variant:"primary",onClick:function(){return t.props.showUpdateForm(t.props.item)},children:"Update book"})]})]})})}}]),a}(o.a.Component),A=a(8),S=a(23),F=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(S.a,{show:this.props.show,onHide:this.props.handleClose,children:[Object(b.jsx)(S.a.Header,{closeButton:!0,children:Object(b.jsx)(S.a.Title,{children:"Update book"})}),Object(b.jsx)(S.a.Body,{children:Object(b.jsxs)(A.a,{onSubmit:this.props.updateBook,children:[Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Book title"}),Object(b.jsx)(A.a.Control,{type:"text",name:"title",defaultValue:this.props.title})]}),Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Description"}),Object(b.jsx)(A.a.Control,{type:"text",name:"description",defaultValue:this.props.description})]}),Object(b.jsx)(A.a.Group,{children:Object(b.jsxs)(A.a.Select,{name:"status",defaultValue:this.props.status,children:[Object(b.jsx)("option",{value:"available",children:"Available"}),Object(b.jsx)("option",{value:"not available",children:"Not Available"})]})}),Object(b.jsx)(w.a,{variant:"primary",type:"submit",children:"Update book"})]})}),Object(b.jsx)(S.a.Footer,{})]})})}}]),a}(o.a.Component),L=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).componentDidMount=function(){var t=n.props.auth0.user.email;y.a.get("http://localhost:3601/getBooks?email=".concat(t)).then((function(t){n.setState({booksArr:t.data})})).catch((function(t){console.log("error")}))},n.addBook=function(t){t.preventDefault();var e=n.props.auth0.user.email,a={title:t.target.title.value,description:t.target.description.value,status:t.target.status.value,email:e};y.a.post("http://localhost:3601/addBook",a).then((function(t){n.setState({booksArr:t.data})})).catch((function(t){console.log("Error")}))},n.deleteBook=function(t){var e=n.props.auth0.user.email;y.a.delete("http://localhost:3601/deleteBook/".concat(t,"?email=").concat(e)).then((function(t){n.setState({booksArr:t.data})})).catch((function(t){console.log("Error")}))},n.handleClose=function(){n.setState({show:!1,showFlag:!1})},n.handleShow=function(){n.setState({show:!0})},n.showUpdateForm=function(t){n.setState({showFlag:!0,title:t.title,description:t.description,status:t.status,bookId:t._id})},n.updateBook=function(t){t.preventDefault();var e=n.props.auth0.user.email,a={title:t.target.title.value,description:t.target.description.value,status:t.target.status.value,email:e};y.a.put("http://localhost:3601/updateBook/".concat(n.state.bookId),a).then((function(t){n.setState({booksArr:t.data,showFlag:!1})})).catch((function(t){console.log("Error")}))},n.state={booksArr:[],show:!1,showFlag:!1,title:"",description:"",status:"",bookId:""},n}return Object(r.a)(a,[{key:"render",value:function(){var t=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(w.a,{variant:"primary",onClick:this.handleShow,children:"add a book"}),Object(b.jsxs)(S.a,{show:this.state.show,onHide:this.handleClose,children:[Object(b.jsx)(S.a.Header,{closeButton:!0,children:Object(b.jsx)(S.a.Title,{children:"Modal heading"})}),Object(b.jsx)(S.a.Body,{children:"Woohoo, you're reading this text in a modal!"}),Object(b.jsxs)(A.a,{onSubmit:this.addBook,children:[Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Book title"}),Object(b.jsx)(A.a.Control,{type:"text",name:"title"})]}),Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Description"}),Object(b.jsx)(A.a.Control,{type:"text",name:"description"})]}),Object(b.jsx)(A.a.Group,{children:Object(b.jsxs)(A.a.Select,{name:"status",children:[Object(b.jsx)("option",{value:"available",children:"Available"}),Object(b.jsx)("option",{value:"not available",children:"Not Available"})]})}),Object(b.jsx)(w.a,{variant:"primary",type:"submit",children:"Add book"})]})]}),this.state.booksArr.map((function(e){return Object(b.jsx)(C,{item:e,deleteBook:t.deleteBook,showUpdateForm:t.showUpdateForm})})),Object(b.jsx)(F,{show:this.state.showFlag,handleClose:this.handleClose,title:this.state.title,description:this.state.description,status:this.state.status,updateBook:this.updateBook})]})}}]),a}(o.a.Component),T=Object(u.c)(L),U=(a(98),function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(b.jsx)(B.a,{style:{width:"18rem"},children:Object(b.jsxs)(B.a.Body,{children:[Object(b.jsx)(B.a.Title,{children:"Log In"}),Object(b.jsx)(B.a.Text,{children:"Click Below to Log In"}),Object(b.jsx)(O,{})]})})}}]),a}(o.a.Component)),I=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){console.log("app",this.props);var t=this.props.auth0.isAuthenticated;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(h.a,{children:[Object(b.jsx)(m,{}),Object(b.jsxs)(f.c,{children:[Object(b.jsx)(f.a,{exact:!0,path:"/",children:t?Object(b.jsx)(T,{}):Object(b.jsx)(U,{})}),Object(b.jsx)(f.a,{exact:!0,path:"/Profile",children:Object(b.jsx)(k,{})})]}),Object(b.jsx)(v,{})]})})}}]),a}(o.a.Component),G=Object(u.c)(I);c.a.render(Object(b.jsx)(u.a,{domain:"nedal-domain.us.auth0.com",clientId:"y8kXQUXeXFqKhrl90mEHUx47GtgaRLbf",redirectUri:window.location.origin,children:Object(b.jsx)(G,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.0b0e3e0c.chunk.js.map